package controllers

import (
	"encoding/json"
	"github.com/jaisonjose89m/go/webservice/models"
	"net/http"
	"regexp"
	"strconv"
)

type userController struct {
	userIDRegex *regexp.Regexp
}

func (uc userController) ServeHTTP(w http.ResponseWriter, r *http.Request) {

	if r.URL.Path == "/api/v1/credentials/query/keystores" {
		uc.postKs(w, r)
	} else if r.URL.Path == "/users" {
		switch r.Method {
		case http.MethodGet:
			uc.getAll(w)
		case http.MethodPost:
			uc.post(w, r)
		default:
			w.WriteHeader(http.StatusNotImplemented)
			w.Write([]byte("Method not supported"))
		}
	} else {
		id, err := uc.getID(r)
		if err != nil {
			w.WriteHeader(http.StatusBadRequest)
			w.Write([]byte("Unable to get user ID from path"))
			return
		}
		switch r.Method {
		case http.MethodGet:
			uc.get(id, w)
		case http.MethodPut:
			uc.put(w, r)
		case http.MethodDelete:
			uc.delete(id, w)
		default:
			w.WriteHeader(http.StatusNotImplemented)
			w.Write([]byte("Method not supported"))
		}
	}
}

func (uc userController) parseRequest(w http.ResponseWriter, r *http.Request) (models.User, error) {
	decoder := json.NewDecoder(r.Body)
	var u models.User
	err := decoder.Decode(&u)
	if err != nil {
		writeError(w, err, http.StatusBadRequest)
		return models.User{}, err
	}
	return u, nil
}

func writeError(w http.ResponseWriter, err error, statusCode int) {
	w.WriteHeader(statusCode)
	w.Write([]byte(err.Error()))
}

func newUserController() *userController {
	return &userController{
		userIDRegex: regexp.MustCompile(`^/users/(\d+)/?`),
	}
}

func (uc userController) getAll(w http.ResponseWriter) {
	EncodeAsJsonString(models.GetUsers(), w)
}

func (uc userController) get(id int, w http.ResponseWriter) {
	user, err := models.GetUserByID(id)
	if err != nil {
		writeError(w, err, http.StatusNotFound)
		return
	}
	EncodeAsJsonString(user, w)
}

func (uc userController) post(w http.ResponseWriter, r *http.Request) {
	user, err := uc.parseRequest(w, r)
	if err != nil {
		return
	}
	addedUser, err := models.AddUser(user)
	if err != nil {
		writeError(w, err, http.StatusUnprocessableEntity)
		return
	}
	EncodeAsJsonString(addedUser, w)
}

func (uc userController) postKs(w http.ResponseWriter, r *http.Request) {
	w.Write([]byte(EsacResponseStr))
}

func (uc userController) put(w http.ResponseWriter, r *http.Request) {
	u, err := uc.parseRequest(w, r)
	if err != nil {
		return
	}
	user, err := models.UpdateUser(u)
	if err != nil {
		writeError(w, err, http.StatusNotFound)
		return
	}
	EncodeAsJsonString(user, w)
}

func (uc userController) delete(id int, w http.ResponseWriter) {
	err := models.RemoveUserByID(id)
	if err != nil {
		writeError(w, err, http.StatusNotFound)
		return
	}
	_, writeErr := w.Write([]byte("Successfully deleted user"))
	if writeErr != nil {
		w.WriteHeader(http.StatusInternalServerError)
	}
}

func (uc userController) getID(r *http.Request) (int, error) {
	matches := uc.userIDRegex.FindStringSubmatch(r.URL.Path)
	if len(matches) == 0 {
		return 0, nil
	}
	return strconv.Atoi(matches[1])
}

const EsacResponseStr = `{"keystores":[{"name":"system","value":"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"}]}`
